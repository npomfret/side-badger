---
import BaseLayout from '../layouts/BaseLayout.astro';
import { t, getAppUrl, type Locale } from '../i18n';

interface Props {
  locale: Locale;
}

const { locale } = Astro.props;
---

<BaseLayout
  title={t('meta.title', locale)}
  description={t('meta.description', locale)}
  locale={locale}
>
  <Fragment slot="head">
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Side Badger",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Web",
        "offers": {
          "@type": "Offer",
          "price": "0"
        }
      }
    </script>
  </Fragment>

  <!-- Hero Section -->
  <section class="hero" aria-labelledby="hero-title">
    <div class="container">
      <div class="hero-content fade-up">
        <div class="hero-stamp">
          {t('hero.badge', locale)}<a href="#disclaimer" class="disclaimer-link"><sup>*</sup></a>
        </div>

        <h1 id="hero-title">
          {t('hero.title', locale)}
          <span class="gradient-text">{t('hero.titleHighlight', locale)}</span>
        </h1>
        
        <p class="hero-subtitle">
          <span class="typewriter-wrapper">
            <span id="typewriter-text" data-words={t('hero.typewriterWords', locale)}></span><span class="cursor">&nbsp;</span>
          </span>
          {t('hero.subtitleStatic', locale)}
        </p>

        <div class="hero-actions flex gap-md flex-wrap">
          <a href={getAppUrl(locale)} class="btn btn-primary btn-lg btn-confetti">
            {t('hero.cta', locale)}
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M5 12h14"></path>
              <path d="m12 5 7 7-7 7"></path>
            </svg>
          </a>
        </div>
        
        <p class="hero-title-disclaimer">{t('hero.titleDisclaimer', locale)}</p>
      </div>

      <div class="hero-visual fade-up" data-delay="200">
        <div class="hero-image-container glass">
          <img src="/images/logo-face-only-large.png" alt="Side Badger logo" class="hero-badger" />
        </div>
      </div>
    </div>
  </section>

  <!-- Use Cases Section (Reimagined) -->
  <section class="use-cases" aria-labelledby="use-cases-title">
    <div class="container">
      <div class="section-header text-center fade-up">
        <h2 id="use-cases-title">{t('whatsItFor.title', locale)}</h2>
        <p>{t('whatsItFor.subtitle', locale)}</p>
      </div>

      <div class="filter-pills fade-up" data-delay="100">
        <button class="filter-pill active" data-filter="daily">{t('filters.daily', locale)}</button>
        <button class="filter-pill" data-filter="travel">{t('filters.travel', locale)}</button>
        <button class="filter-pill" data-filter="community">{t('filters.community', locale)}</button>
        <button class="filter-pill" data-filter="all">{t('filters.all', locale)}</button>
      </div>

      <div class="use-case-grid">
        <!-- Daily Life -->
        <div class="feature-card fade-up" data-category="daily">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
          </div>
          <h3>{t('whatsItFor.expenseSharing.title', locale)}</h3>
          <p>{t('whatsItFor.expenseSharing.desc', locale)}</p>
        </div>

        <div class="feature-card fade-up" data-category="daily" data-delay="50">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/><path d="M22 12A10 10 0 0 0 12 2v10z"/></svg>
          </div>
          <h3>{t('whatsItFor.budgetTracking.title', locale)}</h3>
          <p>{t('whatsItFor.budgetTracking.desc', locale)}</p>
        </div>

        <div class="feature-card fade-up" data-category="daily" data-delay="100">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="5" rx="2"/><path d="M2 10h20"/><path d="M6 15h4"/></svg>
          </div>
          <h3>{t('whatsItFor.subscriptions.title', locale)}</h3>
          <p>{t('whatsItFor.subscriptions.desc', locale)}</p>
        </div>

        <div class="feature-card fade-up" data-category="daily" data-delay="150">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 7 7 14l3 3 7-7"/><path d="M15 6 18 3l3 3-3 3"/><path d="M2 22h12"/></svg>
          </div>
          <h3>{t('whatsItFor.renovations.title', locale)}</h3>
          <p>{t('whatsItFor.renovations.desc', locale)}</p>
        </div>
        
        <div class="feature-card fade-up" data-category="daily" data-delay="200">
             <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2 3 14h9l-1 8 10-12h-9l1-8z"/></svg>
          </div>
          <h3>{t('whatsItFor.reduceTransactions.title', locale)}</h3>
          <p>{t('whatsItFor.reduceTransactions.desc', locale)}</p>
        </div>


        <!-- Fun & Travel -->
        <div class="feature-card fade-up" data-category="travel" data-delay="100" style="display: none;">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
          </div>
          <h3>{t('whatsItFor.travel.title', locale)}</h3>
          <p>{t('whatsItFor.travel.desc', locale)}</p>
        </div>

        <div class="feature-card fade-up" data-category="travel" data-delay="150" style="display: none;">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"/><path d="M14 8H8"/><path d="M16 12H8"/><path d="M13 16H8"/></svg>
          </div>
          <h3>{t('whatsItFor.billSplitting.title', locale)}</h3>
          <p>{t('whatsItFor.billSplitting.desc', locale)}</p>
        </div>

        <div class="feature-card fade-up" data-category="travel" data-delay="200" style="display: none;">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15 8.5 22 9.3 17 14 18.5 21 12 17.5 5.5 21 7 14 2 9.3 9 8.5 12 2"/></svg>
          </div>
          <h3>{t('whatsItFor.celebrations.title', locale)}</h3>
          <p>{t('whatsItFor.celebrations.desc', locale)}</p>
        </div>

        <div class="feature-card fade-up" data-category="travel" data-delay="250" style="display: none;">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="12" r="4"/><circle cx="15" cy="12" r="4"/><path d="M7.5 12h-3"/><path d="M19.5 12h-3"/></svg>
          </div>
          <h3>{t('whatsItFor.weddings.title', locale)}</h3>
          <p>{t('whatsItFor.weddings.desc', locale)}</p>
        </div>

        <div class="feature-card fade-up" data-category="travel" data-delay="300" style="display: none;">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 12v10H4V12"/><path d="M2 7h20v5H2z"/><path d="M12 22V7"/><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C14 2 12 7 12 7z"/><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C10 2 12 7 12 7z"/></svg>
          </div>
          <h3>{t('whatsItFor.gifting.title', locale)}</h3>
          <p>{t('whatsItFor.gifting.desc', locale)}</p>
        </div>

        <!-- Community -->
        <div class="feature-card fade-up" data-category="community" data-delay="100" style="display: none;">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 21h8"/><path d="M12 17v4"/><path d="M7 4h10v5a5 5 0 0 1-10 0z"/></svg>
          </div>
          <h3>{t('whatsItFor.sports.title', locale)}</h3>
          <p>{t('whatsItFor.sports.desc', locale)}</p>
        </div>

        <div class="feature-card fade-up" data-category="community" data-delay="150" style="display: none;">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="7" rx="2"/><path d="M16 7V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"/><path d="M2 13h20"/></svg>
          </div>
          <h3>{t('whatsItFor.work.title', locale)}</h3>
          <p>{t('whatsItFor.work.desc', locale)}</p>
        </div>

        <div class="feature-card fade-up" data-category="community" data-delay="200" style="display: none;">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 5h12a3 3 0 0 1 3 3v11H7a3 3 0 0 0-3 3z"/><path d="M16 2H7a3 3 0 0 0-3 3v16"/></svg>
          </div>
          <h3>{t('whatsItFor.school.title', locale)}</h3>
          <p>{t('whatsItFor.school.desc', locale)}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Narrative Features Section -->
  <section class="narrative-features" aria-labelledby="features-title">
    <div class="container">
      <div class="section-header text-center fade-up">
        <h2 id="features-title">{t('features.title', locale)}</h2>
        <p>{t('features.subtitle', locale)}</p>
      </div>

      <!-- Step 1: Organize -->
      <div class="narrative-step">
        <div class="step-header fade-up">
          <div class="step-number">01</div>
          <div class="step-title">
            <h3>{t('narrative.step1.title', locale)}</h3>
            <p>{t('narrative.step1.desc', locale)}</p>
          </div>
        </div>
        <div class="bento-grid-lg">
          <div class="feature-card fade-up">
            <div class="feature-icon" aria-hidden="true">
               <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            </div>
            <h3>{t('features.groups.title', locale)}</h3>
            <p>{t('features.groups.desc', locale)}</p>
          </div>
          <div class="feature-card fade-up" data-delay="100">
             <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
            </div>
            <h3>{t('features.invites.title', locale)}</h3>
            <p>{t('features.invites.desc', locale)}</p>
          </div>
          <div class="feature-card fade-up" data-delay="200">
            <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
            </div>
            <h3>{t('features.roles.title', locale)}</h3>
            <p>{t('features.roles.desc', locale)}</p>
          </div>
          <div class="feature-card fade-up" data-delay="300">
            <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.85 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
            </div>
            <h3>{t('features.edit.title', locale)}</h3>
            <p>{t('features.edit.desc', locale)}</p>
          </div>
        </div>
      </div>

      <!-- Step 2: Track -->
      <div class="narrative-step">
        <div class="step-header fade-up">
          <div class="step-number">02</div>
          <div class="step-title">
            <h3>{t('narrative.step2.title', locale)}</h3>
            <p>{t('narrative.step2.desc', locale)}</p>
          </div>
        </div>
        <div class="bento-grid-lg">
          <div class="feature-card fade-up">
             <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" x2="12" y1="2" y2="22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
            </div>
            <h3>{t('features.splits.title', locale)}</h3>
            <p>{t('features.splits.desc', locale)}</p>
          </div>
          <div class="feature-card fade-up" data-delay="100">
             <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"/><path d="M14 8H8"/><path d="M16 12H8"/><path d="M13 16H8"/></svg>
            </div>
            <h3>{t('features.receipts.title', locale)}</h3>
            <p>{t('features.receipts.desc', locale)}</p>
          </div>
          <div class="feature-card fade-up" data-delay="200">
             <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            </div>
            <h3>{t('features.participants.title', locale)}</h3>
            <p>{t('features.participants.desc', locale)}</p>
          </div>
           <div class="feature-card fade-up" data-delay="300">
             <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2v20M2 12h20"/></svg>
            </div>
            <h3>{t('features.currency.title', locale)}</h3>
            <p>{t('features.currency.desc', locale)}</p>
          </div>
          <div class="feature-card fade-up" data-delay="400">
            <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 3h5v5"/><path d="M8 3H3v5"/><path d="M21 3l-7 7"/><path d="M3 3l7 7"/><path d="M16 21h5v-5"/><path d="M8 21H3v-5"/><path d="M21 21l-7-7"/><path d="M3 21l7-7"/></svg>
            </div>
            <h3>{t('features.fxConversion.title', locale)}</h3>
            <p>{t('features.fxConversion.desc', locale)}</p>
          </div>
        </div>
      </div>

      <!-- Step 3: Settle -->
      <div class="narrative-step">
        <div class="step-header fade-up">
          <div class="step-number">03</div>
          <div class="step-title">
            <h3>{t('narrative.step3.title', locale)}</h3>
            <p>{t('narrative.step3.desc', locale)}</p>
          </div>
        </div>
        <div class="bento-grid-lg">
          <div class="feature-card fade-up">
             <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"/><path d="m19 9-5 5-4-4-3 3"/></svg>
            </div>
            <h3>{t('features.balances.title', locale)}</h3>
            <p>{t('features.balances.desc', locale)}</p>
          </div>
          <div class="feature-card fade-up" data-delay="100">
             <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22,4 12,14.01 9,11.01"/></svg>
            </div>
            <h3>{t('features.settle.title', locale)}</h3>
            <p>{t('features.settle.desc', locale)}</p>
          </div>
          <div class="feature-card fade-up" data-delay="200">
            <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"/><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/></svg>
            </div>
            <h3>{t('features.activity.title', locale)}</h3>
            <p>{t('features.activity.desc', locale)}</p>
          </div>
          <div class="feature-card fade-up" data-delay="300">
             <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"/><circle cx="12" cy="12" r="3"/><line x1="2" y1="2" x2="22" y2="22"/></svg>
            </div>
            <h3>{t('features.noTracking.title', locale)}</h3>
            <p>{t('features.noTracking.desc', locale)}</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Little Things Section -->
  <section class="little-things" aria-labelledby="little-things-title">
    <div class="container">
      <div class="section-header text-center fade-up">
        <h2 id="little-things-title">{t('littleThings.title', locale)}</h2>
        <p>{t('littleThings.subtitle', locale)}</p>
      </div>

      <div class="bento-grid">
        <!-- Keep existing content -->
        <!-- Dates -->
        <div class="feature-card fade-up">
          <div class="feature-icon feature-icon-small" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
              <line x1="16" x2="16" y1="2" y2="6"/>
              <line x1="8" x2="8" y1="2" y2="6"/>
              <line x1="3" x2="21" y1="10" y2="10"/>
            </svg>
          </div>
          <h3>{t('littleThings.dates.title', locale)}</h3>
          <p>{t('littleThings.dates.desc', locale)}</p>
        </div>

        <!-- Amounts -->
        <div class="feature-card fade-up" data-delay="100">
          <div class="feature-icon feature-icon-small" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <polyline points="12,6 12,12 16,14"/>
            </svg>
          </div>
          <h3>{t('littleThings.amounts.title', locale)}</h3>
          <p>{t('littleThings.amounts.desc', locale)}</p>
        </div>

        <!-- Names -->
        <div class="feature-card fade-up" data-delay="200">
          <div class="feature-icon feature-icon-small" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
              <circle cx="12" cy="7" r="4"/>
            </svg>
          </div>
          <h3>{t('littleThings.names.title', locale)}</h3>
          <p>{t('littleThings.names.desc', locale)}</p>
        </div>

        <!-- Archive -->
        <div class="feature-card fade-up" data-delay="300">
          <div class="feature-icon feature-icon-small" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="20" height="5" x="2" y="3" rx="1"/>
              <path d="M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"/>
              <path d="M10 12h4"/>
            </svg>
          </div>
          <h3>{t('littleThings.archive.title', locale)}</h3>
          <p>{t('littleThings.archive.desc', locale)}</p>
        </div>

        <!-- Celebrations -->
        <div class="feature-card fade-up" data-delay="400">
          <div class="feature-icon feature-icon-small" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
            </svg>
          </div>
          <h3>{t('littleThings.celebrations.title', locale)}</h3>
          <p>{t('littleThings.celebrations.desc', locale)}</p>
        </div>

        <!-- Everywhere -->
        <div class="feature-card fade-up" data-delay="500">
          <div class="feature-icon feature-icon-small" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="14" height="20" x="5" y="2" rx="2" ry="2"/>
              <path d="M12 18h.01"/>
            </svg>
          </div>
          <h3>{t('littleThings.everywhere.title', locale)}</h3>
          <p>{t('littleThings.everywhere.desc', locale)}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Coming Soon Section -->
  <section class="coming-soon" aria-labelledby="coming-soon-title">
    <div class="container">
      <div class="section-header text-center fade-up">
        <h2 id="coming-soon-title">{t('comingSoon.title', locale)}</h2>
        <p>{t('comingSoon.subtitle', locale)}</p>
      </div>

      <div class="bento-grid">
        <!-- AI Receipt Scanning -->
        <div class="feature-card fade-up coming-soon-card">
          <div class="coming-soon-badge">{t('comingSoon.badge', locale)}</div>
          <div class="feature-icon feature-icon-small" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
            </svg>
          </div>
          <h3>{t('comingSoon.ai.title', locale)}</h3>
          <p>{t('comingSoon.ai.desc', locale)}</p>
        </div>

        <!-- Export Data -->
        <div class="feature-card fade-up coming-soon-card" data-delay="100">
          <div class="coming-soon-badge">{t('comingSoon.badge', locale)}</div>
          <div class="feature-icon feature-icon-small" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
              <polyline points="7 10 12 15 17 10"/>
              <line x1="12" x2="12" y1="15" y2="3"/>
            </svg>
          </div>
          <h3>{t('comingSoon.export.title', locale)}</h3>
          <p>{t('comingSoon.export.desc', locale)}</p>
        </div>

        <!-- Native Mobile Apps -->
        <div class="feature-card fade-up coming-soon-card" data-delay="200">
          <div class="coming-soon-badge">{t('comingSoon.badge', locale)}</div>
          <div class="feature-icon feature-icon-small" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="14" height="20" x="5" y="2" rx="2" ry="2"/>
              <path d="M12 18h.01"/>
            </svg>
          </div>
          <h3>{t('comingSoon.mobile.title', locale)}</h3>
          <p>{t('comingSoon.mobile.desc', locale)}</p>
        </div>

        <!-- Shared Lists -->
        <div class="feature-card fade-up coming-soon-card" data-delay="300">
          <div class="coming-soon-badge">{t('comingSoon.badge', locale)}</div>
          <div class="feature-icon feature-icon-small" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18"/><path d="M3 12h18"/><path d="M3 18h18"/>
            </svg>
          </div>
          <h3>{t('comingSoon.lists.title', locale)}</h3>
          <p>{t('comingSoon.lists.desc', locale)}</p>
        </div>

        <!-- Group Polls -->
        <div class="feature-card fade-up coming-soon-card" data-delay="400">
          <div class="coming-soon-badge">{t('comingSoon.badge', locale)}</div>
          <div class="feature-icon feature-icon-small" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/>
            </svg>
          </div>
          <h3>{t('comingSoon.polls.title', locale)}</h3>
          <p>{t('comingSoon.polls.desc', locale)}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Why Free Section -->
  <section class="why-free" aria-labelledby="why-free-title">
    <div class="container">
      <div class="section-header text-center fade-up">
        <h2 id="why-free-title">{t('whyFree.title', locale)}</h2>
        <p>{t('whyFree.subtitle', locale)}</p>
      </div>

      <div class="bento-grid">
        <div class="feature-card fade-up">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/>
              <path d="m9 12 2 2 4-4"/>
            </svg>
          </div>
          <h3>{t('whyFree.trackers.title', locale)}</h3>
          <p>{t('whyFree.trackers.desc', locale)}</p>
        </div>

        <div class="feature-card fade-up" data-delay="100">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
              <line x1="9" x2="9.01" y1="9" y2="9"/>
              <line x1="15" x2="15.01" y1="9" y2="9"/>
            </svg>
          </div>
          <h3>{t('whyFree.ads.title', locale)}</h3>
          <p>{t('whyFree.ads.desc', locale)}</p>
        </div>

        <div class="feature-card fade-up" data-delay="200">
          <div class="feature-icon" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
            </svg>
          </div>
          <h3>{t('whyFree.badgers.title', locale)}</h3>
          <p>{t('whyFree.badgers.desc', locale)}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section" aria-labelledby="cta-title">
    <div class="container">
      <div class="cta-card glass fade-up">
        <h2 id="cta-title">{t('cta.title', locale)}</h2>
        <p>{t('cta.subtitle', locale)}</p>
        <a href={getAppUrl(locale)} class="btn btn-primary btn-lg btn-confetti">
          {t('cta.button', locale)}
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M5 12h14"></path>
            <path d="m12 5 7 7-7 7"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Disclaimer -->
  <footer class="disclaimer" id="disclaimer">
    <div class="container">
      <p>{t('hero.disclaimer', locale)}</p>
    </div>
  </footer>

  <script>
    import confetti from 'canvas-confetti';

    // Check for reduced motion preference
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // ===== TYPEWRITER EFFECT =====
    const textElement = document.getElementById('typewriter-text');
    const wordsData = textElement?.getAttribute('data-words');
    const words: string[] = wordsData ? JSON.parse(wordsData) : [];

    if (textElement && words.length > 0) {
        let wordIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        let typeSpeed = 80;

        const type = () => {
            const currentWord = words[wordIndex];
            
            if (isDeleting) {
                textElement.textContent = currentWord.substring(0, charIndex - 1);
                charIndex--;
                typeSpeed = 30;
            } else {
                textElement.textContent = currentWord.substring(0, charIndex + 1);
                charIndex++;
                typeSpeed = 80;
            }

            if (!isDeleting && charIndex === currentWord.length) {
                isDeleting = true;
                typeSpeed = 1200; // Pause at end
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                wordIndex = (wordIndex + 1) % words.length;
                typeSpeed = 300;
            }

            setTimeout(type, typeSpeed);
        };

        // Start typing
        setTimeout(type, 1000);
    }


    // ===== USE CASES FILTER =====
    const filterPills = document.querySelectorAll('.filter-pill');
    const useCaseCards = document.querySelectorAll('.feature-card[data-category]');

    filterPills.forEach(pill => {
        pill.addEventListener('click', () => {
            // Update active pill
            filterPills.forEach(p => p.classList.remove('active'));
            pill.classList.add('active');

            const filter = (pill as HTMLElement).dataset.filter;

            // Filter cards
            useCaseCards.forEach(card => {
                const cardEl = card as HTMLElement;
                const category = cardEl.dataset.category;
                
                if (filter === 'all' || filter === category) {
                   cardEl.style.display = 'block';
                   // Reset animation
                   cardEl.classList.remove('is-visible');
                   setTimeout(() => cardEl.classList.add('is-visible'), 50);
                } else {
                   cardEl.style.display = 'none';
                }
            });
        });
    });


    // ===== 3D CARD TILT =====
    if (!prefersReducedMotion) {
      document.querySelectorAll('.feature-card').forEach(card => {
        const cardEl = card as HTMLElement;

        cardEl.addEventListener('mousemove', (e: MouseEvent) => {
          const rect = cardEl.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          const centerX = rect.width / 2;
          const centerY = rect.height / 2;
          const rotateX = (y - centerY) / 10;
          const rotateY = (centerX - x) / 10;

          cardEl.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.02)`;
        });

        cardEl.addEventListener('mouseleave', () => {
          cardEl.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale(1)';
        });
      });
    }

    // ===== HERO BADGER PARALLAX =====
    const heroVisual = document.querySelector('.hero-visual') as HTMLElement;
    const heroImageContainer = document.querySelector('.hero-image-container') as HTMLElement;

    if (heroVisual && heroImageContainer && !prefersReducedMotion) {
      heroVisual.addEventListener('mousemove', (e) => {
        const rect = heroVisual.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        const centerX = rect.width / 2;
        const centerY = rect.height / 2;
        
        // Tilt calculations
        const rotateX = ((y - centerY) / centerY) * -10; // Max 10deg
        const rotateY = ((x - centerX) / centerX) * 10;
        
        heroImageContainer.style.transform = 
          `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.02)`;
      });

      heroVisual.addEventListener('mouseleave', () => {
        heroImageContainer.style.transform = 
          'perspective(1000px) rotateX(0) rotateY(0) scale(1)';
      });
    }

    // ===== AUTO-ASSIGN STAGGER DELAYS =====
    document.querySelectorAll('.fade-up').forEach((el, index) => {
      if (!(el as HTMLElement).dataset.delay) {
        (el as HTMLElement).dataset.delay = String((index % 6) * 100);
      }
    });

    // ===== BUTTON RIPPLE EFFECT =====
    document.querySelectorAll('.btn').forEach(btn => {
      btn.addEventListener('click', function(e: MouseEvent) {
        const button = e.currentTarget as HTMLElement;
        const rect = button.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const ripple = document.createElement('span');
        ripple.className = 'btn-ripple';
        ripple.style.left = `${x}px`;
        ripple.style.top = `${y}px`;

        button.appendChild(ripple);

        setTimeout(() => ripple.remove(), 600);
      });
    });

    // ===== CONFETTI =====
    const fireConfetti = (x: number, y: number) => {
      confetti({
        particleCount: 80,
        spread: 60,
        origin: { x, y },
        colors: ['#7ec786', '#5fb0c4', '#f0c05c', '#4eeab5'],
        disableForReducedMotion: true,
        startVelocity: 30,
        gravity: 0.8,
        scalar: 1.2
      });

      setTimeout(() => {
        confetti({
          particleCount: 40,
          spread: 100,
          origin: { x, y },
          colors: ['#ffffff', '#7ec786', '#5fb0c4'],
          disableForReducedMotion: true,
          startVelocity: 20,
          gravity: 0.6,
          scalar: 0.8,
          shapes: ['circle']
        });
      }, 150);
    };

    document.querySelectorAll('.btn-confetti').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const rect = (e.currentTarget as HTMLElement).getBoundingClientRect();
        const x = (rect.left + rect.width / 2) / window.innerWidth;
        const y = (rect.top + rect.height / 2) / window.innerHeight;
        fireConfetti(x, y);
      });
    });
  </script>
</BaseLayout>

<style>
  @import '../styles/homepage.css';
</style>