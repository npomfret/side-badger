---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PolicyPage from '../../components/PolicyPage.astro';
import { t, resolveLocale, type LocaleOrAlias } from '../../i18n';

export function getStaticPaths() {
  return [
    { params: { locale: undefined } },     // /privacy
    { params: { locale: 'uk' } },          // /uk/privacy
    { params: { locale: 'en-us' } },       // /en-us/privacy
    { params: { locale: 'en-au' } },       // /en-au/privacy
    { params: { locale: 'en-ca' } },       // /en-ca/privacy
    { params: { locale: 'en-gb' } },       // /en-gb/privacy
  ];
}

const localeParam = (Astro.params.locale || 'en') as LocaleOrAlias;
const locale = resolveLocale(localeParam);
---

<BaseLayout
  title={t('policy.privacy.meta.title', locale)}
  description={t('policy.privacy.meta.description', locale)}
  locale={locale}
>
  <PolicyPage
    title={t('policy.privacy.title', locale)}
    endpoint="/api/policies/privacy-policy/text"
  />
</BaseLayout>
