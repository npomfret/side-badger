---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PolicyPage from '../../components/PolicyPage.astro';
import { t, resolveLocale, type LocaleOrAlias } from '../../i18n';

export function getStaticPaths() {
  return [
    { params: { locale: undefined } },     // /terms
    { params: { locale: 'uk' } },          // /uk/terms
    { params: { locale: 'es' } },          // /es/terms
    { params: { locale: 'ja' } },          // /ja/terms
    { params: { locale: 'en-us' } },       // /en-us/terms
    { params: { locale: 'en-au' } },       // /en-au/terms
    { params: { locale: 'en-ca' } },       // /en-ca/terms
    { params: { locale: 'en-gb' } },       // /en-gb/terms
  ];
}

const localeParam = (Astro.params.locale || 'en') as LocaleOrAlias;
const locale = resolveLocale(localeParam);
---

<BaseLayout
  title={t('policy.terms.meta.title', locale)}
  description={t('policy.terms.meta.description', locale)}
  locale={locale}
>
  <PolicyPage
    title={t('policy.terms.title', locale)}
    endpoint="/api/policies/terms-of-service/text"
  />
</BaseLayout>
